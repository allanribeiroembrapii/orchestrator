# Arquivo de configuração do projeto Prefect
name: embrapii-orchestrator
prefect-version: 2.13.0

# Definição dos deployments
deployments:
  - name: embrapii-diario
    entrypoint: orchestrator_flow.py:orquestrador_diario
    work_pool:
      name: embrapii-pool
      work_queue_name: default

  - name: embrapii-quinzenal
    entrypoint: orchestrator_flow.py:orquestrador_quinzenal
    work_pool:
      name: embrapii-pool
      work_queue_name: default

# Configuração do build
build:
  python-version: "3.10"
  python-packages:
    - prefect>=2.13.0
    - selenium
    - webdriver-manager
    - pandas
    - openpyxl
    - pywin32
    - psutil
    - python-dotenv
    - Office365-REST-Python-Client
    - gspread
    - requests

# Configuração de infraestrutura
infrastructure:
  type: process
  env:
    PREFECT_LOGGING_LEVEL: "INFO"

# Configuração de storage (armazenamento de resultados)
storage:
  path: ./storage
  local-storage-path: ./.prefect/storage
